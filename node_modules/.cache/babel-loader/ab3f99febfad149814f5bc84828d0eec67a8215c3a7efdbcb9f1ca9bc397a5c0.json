{"ast":null,"code":"var _jsxFileName = \"/home/user/memcrab/src/components/MatrixTable/MatrixTable.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Table, TableBody, TableFooter, TableCell, TableContainer, Paper } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MatrixTable = ({\n  matrix,\n  onCellUpdate,\n  onRemoveCell,\n  onRemoveRow,\n  onRemoveColumn\n}) => {\n  _s();\n  var _matrix$;\n  const [hoveredCell, setHoveredCell] = React.useState(null);\n  const [nearestCells, setNearestCells] = React.useState(new Set());\n  const [hoveredSumRowIndex, setHoveredSumRowIndex] = React.useState(null);\n  const numRows = matrix.length;\n  const numCols = ((_matrix$ = matrix[0]) === null || _matrix$ === void 0 ? void 0 : _matrix$.length) || 0;\n  const findNearestCells = React.useCallback((cell, X) => {\n    const allCells = matrix.flat();\n    const sortedCells = allCells.map(c => ({\n      ...c,\n      distance: Math.abs(c.amount - cell.amount)\n    })).sort((a, b) => a.distance - b.distance).slice(0, X);\n    setNearestCells(new Set(sortedCells.map(c => c.id)));\n  }, [matrix]);\n  const handleCellClick = (rowIndex, colIndex) => {\n    const newAmount = matrix[rowIndex][colIndex].amount + 1;\n    onCellUpdate(rowIndex, colIndex, newAmount);\n  };\n  const handleCellMouseEnter = cell => {\n    setHoveredCell(cell);\n    findNearestCells(cell, 5);\n  };\n  const handleCellMouseLeave = () => {\n    setHoveredCell(null);\n    setNearestCells(new Set());\n  };\n  const handleSumCellMouseEnter = rowIndex => {\n    setHoveredSumRowIndex(rowIndex);\n  };\n  const handleSumCellMouseLeave = () => {\n    setHoveredSumRowIndex(null);\n  };\n  const columnMedians = calculateColumnMedians(matrix);\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(MatrixHeader, {\n        numCols: numCols,\n        onRemoveColumn: onRemoveColumn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: [matrix.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(MatrixRow, {\n          row: row,\n          rowIndex: rowIndex,\n          rowSum: calculateRowSum(row),\n          hoveredSumRowIndex: hoveredSumRowIndex,\n          nearestCells: nearestCells,\n          onCellClick: handleCellClick,\n          onCellMouseEnter: handleCellMouseEnter,\n          onCellMouseLeave: handleCellMouseLeave,\n          onRemoveCell: onRemoveCell,\n          onRemoveRow: onRemoveRow\n        }, rowIndex, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [Array.from({\n            length: numCols\n          }, (_, colIndex) => /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Average\"\n          }, colIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableFooter, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [columnMedians.map((median, colIndex) => /*#__PURE__*/_jsxDEV(TableCell, {\n            children: median\n          }, colIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Median\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(MatrixTable, \"QIxr1eaBnbEEYA/WnHxp7TZnUBs=\");\n_c = MatrixTable;\nexport default MatrixTable;\nvar _c;\n$RefreshReg$(_c, \"MatrixTable\");","map":{"version":3,"names":["React","Table","TableBody","TableFooter","TableCell","TableContainer","Paper","jsxDEV","_jsxDEV","MatrixTable","matrix","onCellUpdate","onRemoveCell","onRemoveRow","onRemoveColumn","_s","_matrix$","hoveredCell","setHoveredCell","useState","nearestCells","setNearestCells","Set","hoveredSumRowIndex","setHoveredSumRowIndex","numRows","length","numCols","findNearestCells","useCallback","cell","X","allCells","flat","sortedCells","map","c","distance","Math","abs","amount","sort","a","b","slice","id","handleCellClick","rowIndex","colIndex","newAmount","handleCellMouseEnter","handleCellMouseLeave","handleSumCellMouseEnter","handleSumCellMouseLeave","columnMedians","calculateColumnMedians","component","children","MatrixHeader","fileName","_jsxFileName","lineNumber","columnNumber","row","MatrixRow","rowSum","calculateRowSum","onCellClick","onCellMouseEnter","onCellMouseLeave","TableRow","Array","from","_","median","_c","$RefreshReg$"],"sources":["/home/user/memcrab/src/components/MatrixTable/MatrixTable.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Table, TableBody, TableFooter, TableCell, TableContainer, Paper\n} from '@mui/material';\nimport { Cell } from '../../type/type';\n\ninterface MatrixTableProps {\n  matrix: Cell[][];\n  onCellUpdate: (rowIndex: number, colIndex: number, newAmount: number) => void;\n  onRemoveCell: (rowIndex: number, colIndex: number) => void;\n  onRemoveRow: (rowIndex: number) => void;\n  onRemoveColumn: (colIndex: number) => void;\n}\n\nconst MatrixTable: React.FC<MatrixTableProps> = ({\n  matrix, onCellUpdate, onRemoveCell, onRemoveRow, onRemoveColumn\n}) => {\n  const [hoveredCell, setHoveredCell] = React.useState<Cell | null>(null);\n  const [nearestCells, setNearestCells] = React.useState<Set<number>>(new Set());\n  const [hoveredSumRowIndex, setHoveredSumRowIndex] = React.useState<number | null>(null);\n\n  const numRows = matrix.length;\n  const numCols = matrix[0]?.length || 0;\n\n  const findNearestCells = React.useCallback((cell: Cell, X: number): void => {\n    const allCells = matrix.flat();\n    const sortedCells = allCells\n      .map(c => ({ ...c, distance: Math.abs(c.amount - cell.amount) }))\n      .sort((a, b) => a.distance - b.distance)\n      .slice(0, X);\n\n    setNearestCells(new Set(sortedCells.map(c => c.id)));\n  }, [matrix]);\n\n  const handleCellClick = (rowIndex: number, colIndex: number) => {\n    const newAmount = matrix[rowIndex][colIndex].amount + 1;\n    onCellUpdate(rowIndex, colIndex, newAmount);\n  };\n\n  const handleCellMouseEnter = (cell: Cell) => {\n    setHoveredCell(cell);\n    findNearestCells(cell, 5);\n  };\n\n  const handleCellMouseLeave = () => {\n    setHoveredCell(null);\n    setNearestCells(new Set());\n  };\n\n  const handleSumCellMouseEnter = (rowIndex: number) => {\n    setHoveredSumRowIndex(rowIndex);\n  };\n\n  const handleSumCellMouseLeave = () => {\n    setHoveredSumRowIndex(null);\n  };\n\n  const columnMedians = calculateColumnMedians(matrix);\n\n  return (\n    <TableContainer component={Paper}>\n      <Table>\n        <MatrixHeader numCols={numCols} onRemoveColumn={onRemoveColumn} />\n        <TableBody>\n          {matrix.map((row, rowIndex) => (\n            <MatrixRow\n              key={rowIndex}\n              row={row}\n              rowIndex={rowIndex}\n              rowSum={calculateRowSum(row)}\n              hoveredSumRowIndex={hoveredSumRowIndex}\n              nearestCells={nearestCells}\n              onCellClick={handleCellClick}\n              onCellMouseEnter={handleCellMouseEnter}\n              onCellMouseLeave={handleCellMouseLeave}\n              onRemoveCell={onRemoveCell}\n              onRemoveRow={onRemoveRow}\n            />\n          ))}\n          <TableRow>\n            {Array.from({ length: numCols }, (_, colIndex) => (\n              <TableCell key={colIndex}>Average</TableCell>\n            ))}\n            <TableCell />\n            <TableCell />\n          </TableRow>\n        </TableBody>\n        <TableFooter>\n          <TableRow>\n            {columnMedians.map((median, colIndex) => (\n              <TableCell key={colIndex}>{median}</TableCell>\n            ))}\n            <TableCell>Median</TableCell>\n          </TableRow>\n        </TableFooter>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default MatrixTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}